{"version":3,"file":"parse.js","sourceRoot":"","sources":["../../../src/services/Arbitrary/parse.ts"],"names":[],"mappings":";;;AAKA,mCAA4E;AAE5E,SAAgB,uBAAuB,CAAC,IAAS;IAChD,OAAO,IAAI,gBAAU,CAAC;QACrB,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,qCAAqC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG;QAC5E,GAAG,EAAE,IAAI,CAAC,GAAG;QACb,SAAS,EAAE,EAAE;QAEb,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC;QACxC,IAAI,EAAE,KAAK;QACX,OAAO,EAAE,aAAO,CAAC,SAAS;QAC1B,KAAK,EAAE;YACN;gBACC,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO;gBACjC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC;gBACtC,QAAQ,EAAE,eAAe;gBACzB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC;gBACxC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK;aAC7B;SACD;QACD,MAAM,EAAE,EAAE;QACV,YAAY,EAAE,IAAI;KAClB,CAAC,CAAC;AACJ,CAAC;AAtBD,0DAsBC","sourcesContent":["/**\n * Avoxel284 2022\n * Barbara Music Module / Arbitrary\n */\n\nimport { BarbaraType, MusicPlaylist, MusicTrack, Service } from \"../../lib\";\n\nexport function MusicTrackFromAudioFile(data: any) {\n\treturn new MusicTrack({\n\t\tname: data.url.match(/[^/\\\\&\\?]+\\.\\w{3,4}(?=([\\?&].*$|$))/)?.[0] || data.url,\n\t\turl: data.url,\n\t\tthumbnail: \"\",\n\t\t// thumbnail: Buffer.from(meta?.common?.picture?.[0]?.data),\n\t\tduration: data.meta.format.duration || 0,\n\t\tlive: false,\n\t\tservice: Service.audiofile,\n\t\taudio: [\n\t\t\t{\n\t\t\t\turl: data.url,\n\t\t\t\tbitrate: data.meta.format.bitrate,\n\t\t\t\tmimeType: data.headers[\"content-type\"],\n\t\t\t\tprotocol: \"progressive??\",\n\t\t\t\tduration: data.meta.format.duration || 0,\n\t\t\t\tcodec: data.meta.format.codec,\n\t\t\t},\n\t\t],\n\t\tauthor: {},\n\t\toriginalData: data,\n\t});\n}\n"]}